{% extends 'base.html' %}

{% block content %}

<div class="main-page">
    <div class="page-content">
        <h2>Modifier une critique</h2>
        <h3>Vous êtes en train de répondre à :</h3>

        {% include 'reviews/ticket.html' with ticket=ticket page="review-edit" %}

        <form class="ticket-form" method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <section class="ticket-form-field" id="headline">
                <label>{{ form.headline.label }}</label>
                {{ form.headline }}
            </section>

            <section class="ticket-form-field" id="rating">
                <label>{{ form.rating.label }}</label>

                <div class="rating-labels">
                    <input type="radio" id="rating-0" name="rating" value=0 {% if form.rating.value == 0 %}checked{% endif %}>
                    <label for="rating-0">0</label>
                    <input type="radio" id="rating-1" name="rating" value=1 {% if form.rating.value == 1 %}checked{% endif %}>
                    <label for="rating-1">1</label>
                    <input type="radio" id="rating-2" name="rating" value=2 {% if form.rating.value == 2 %}checked{% endif %}>
                    <label for="rating-2">2</label>
                    <input type="radio" id="rating-3" name="rating" value=3 {% if form.rating.value == 3 %}checked{% endif %}>
                    <label for="rating-3">3</label>
                    <input type="radio" id="rating-4" name="rating" value=4 {% if form.rating.value == 4 %}checked{% endif %}>
                    <label for="rating-4">4</label>
                    <input type="radio" id="rating-5" name="rating" value=5 {% if form.rating.value == 5 %}checked{% endif %}>
                    <label for="rating-5">5</label>
                </div>
                {% if form.rating.errors %}
                    {{ form.rating.errors }}
                {% endif %}
            </section>

            <section class="ticket-form-field" id="body">
                <label>{{ form.body.label }}</label>
                {{ form.body }}
            </section>

            <section class="form-buttons">
                <button class="red-btn" type="button" onclick="window.history.back()">Annuler</button>
                <button class="green-btn" type="submit">Enregistrer la critique</button>
            </section>
            
        </form>
    </div>
</div>

{% endblock content %}